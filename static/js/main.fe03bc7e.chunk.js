(this["webpackJsonpyoutube-clone"]=this["webpackJsonpyoutube-clone"]||[]).push([[0],{109:function(e,t,n){},113:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),i=n.n(c),s=n(33),r=n.n(s),o=(n(109),n(6)),l=n(34),d=n(61),j=n(27),u="FETCH_VIDEOS",b="LOADING",p="FETCH_VIDEO_SELECTED",h="FETCH_MORE_VIDEOS",O="SIG_IN_USER",m="LOADING",x={loading:!1,videos:[],videoSelected:null,prevPageToken:"",nextPageToken:"",termToSearch:""},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case b:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case p:return Object(j.a)(Object(j.a)({},e),{},{videoSelected:a,loading:!1});case u:return Object(j.a)(Object(j.a)({},e),{},{loading:!1,videos:a.data.items,nextPageToken:a.data.nextPageToken,termToSearch:a.term});case h:return Object(j.a)(Object(j.a)({},e),{},{videos:[].concat(Object(d.a)(e.videos),Object(d.a)(a.data.items)),nextPageToken:a.data.nextPageToken,prevPageToken:a.data.prevPageToken});default:return e}},f={user:null,loading:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case m:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case O:return console.log("sign in user case"),{user:a,loading:!1};default:return e}},_=Object(l.combineReducers)({videos:v,login:g}),y=n(73),N=n(74),w=(n(113),n(23)),C=n(11),k=n(17),I=n.n(k),S=n(29),T=n(75),P=n.n(T).a.create({baseURL:"https://www.googleapis.com/youtube/v3",params:{key:"AIzaSyADkRndI8nKtx6rIXR5aL8BF2WG9Wy0wnM"}}),D=function(e){return function(){var t=Object(S.a)(I.a.mark((function t(n){var a,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:b}),t.next=3,P.get("/search",{params:{q:e,part:"snippet",maxResults:10,type:"video"}});case 3:a=t.sent,c=a.data,n({type:u,payload:{data:c,term:e}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=function(e){return function(){var t=Object(S.a)(I.a.mark((function t(n){var a,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:b}),t.next=3,P.get("/videos",{params:{part:"snippet",chart:"mostPopular",videoCategoryId:e}});case 3:a=t.sent,c=a.data,n({type:u,payload:{data:c}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=n(58),L=(n(133),E.a.initializeApp({apiKey:"AIzaSyA1t9ekm-bWwZThJXPZMDaAMnW17ScIp8U",authDomain:"clone-a7f87.firebaseapp.com",projectId:"clone-a7f87",storageBucket:"clone-a7f87.appspot.com",messagingSenderId:"430205967129",appId:"1:430205967129:web:41fcd5598452fd78b18388"})),A=new E.a.auth.GoogleAuthProvider,W=function(){return function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("isLogged action"),L.auth().onAuthStateChanged((function(e){t({type:O,payload:e})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(e,t){return function(){var n=Object(S.a)(I.a.mark((function n(a){var c;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L.auth().signInWithEmailAndPassword(e,t);case 2:c=n.sent,a({type:O,payload:c.user});case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},z=n(37),B=i.a.createContext(),F=function(e){var t=e.children,n=Object(c.useState)(!1),i=Object(z.a)(n,2),s=i[0],r=i[1];return s&&(document.querySelector("body").style.overflow="hidden"),!s&&(document.querySelector("body").style.overflow="unset"),Object(a.jsx)(B.Provider,{value:{sidebarToggle:s,handlerToggleSidebar:function(){r(!s)}},children:t})},M=i.a.createContext(),q=function(e){var t=e.children,n=Object(c.useState)("light"),i=Object(z.a)(n,2),s=i[0],r=i[1],o="light"===s?"#333":"#fff",l="light"===s?"#fff":"#333";return document.body.style.color=o,document.body.style.background=l,Object(a.jsx)(M.Provider,{value:{theme:s,toggleTheme:function(){r("light"===s?"dark":"light")},bgColor:l,color:o},children:t})},G=(n(135),n(81)),H=n.n(G),V=n(82),Z=n.n(V),J=n(80),K=n.n(J),X=n(169),$=(n(136),n(77)),Q=n.n($),Y=function(){var e=Object(c.useState)(""),t=Object(z.a)(e,2),n=t[0],i=t[1],s=Object(C.f)();return Object(a.jsxs)("form",{className:"header__searchbar",onSubmit:function(e){e.preventDefault(),s.push("/search/".concat(n))},children:[Object(a.jsx)("input",{type:"text",value:n,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("button",{type:"submit",className:"searchBar__submit",children:Object(a.jsx)(Q.a,{})})]})},ee=(n(139),n(78)),te=n.n(ee),ne=n(79),ae=n.n(ne),ce=function(){var e=Object(c.useContext)(B).handlerToggleSidebar;return Object(a.jsxs)("div",{className:"menuLeft",children:[Object(a.jsx)(te.a,{onClick:e}),Object(a.jsx)(w.b,{to:"/",children:Object(a.jsx)(ae.a,{})})]})},ie=function(){var e=Object(o.c)((function(e){return e.login})).user,t=Object(c.useContext)(M).bgColor;return Object(a.jsxs)("header",{className:"header",style:{background:t},children:[Object(a.jsx)(ce,{}),Object(a.jsx)(Y,{}),Object(a.jsxs)("div",{className:"header__iconsWrapper",children:[Object(a.jsx)(K.a,{}),Object(a.jsx)(H.a,{}),Object(a.jsx)(Z.a,{}),Object(a.jsx)(w.b,{to:"/login",children:Object(a.jsx)(X.a,{style:{width:"50px",height:"50px"},src:e&&e.photoURL?e.photoURL:""})})]})]})},se=(n(140),n(91)),re=n.n(se),oe=n(92),le=n.n(oe),de=n(83),je=n.n(de),ue=n(84),be=n.n(ue),pe=n(85),he=n.n(pe),Oe=n(86),me=n.n(Oe),xe=n(87),ve=n.n(xe),fe=n(88),ge=n.n(fe),_e=n(89),ye=n.n(_e),Ne=n(90),we=n.n(Ne),Ce=[{title:"Home",icon:je.a,path:"/"},{title:"Trending",icon:be.a,path:"/trending"},{title:"Subscriptions",icon:he.a,path:"/subscriptions"}],ke=[{title:"Library",icon:me.a,path:"/library"},{title:"History",icon:ve.a,path:"/history"},{title:"Watch Later",icon:ge.a,path:"/watch_later"},{title:"Liked videos",icon:ye.a,path:"/liked_videos"},{title:"Profile",icon:we.a,path:"/login"}],Ie=function(e){var t=e.Icon,n=e.title,i=e.path,s=Object(c.useContext)(B).handlerToggleSidebar,r=Object(c.useContext)(M).color,o=function(){setTimeout((function(){s()}),250)};return"Profile"===n?Object(a.jsxs)(w.c,{to:i,className:"asidebarRow asidebarRow__profile",exact:!0,activeClassName:"asidebarRow--selected",onClick:o,style:{color:r},children:[Object(a.jsx)(t,{className:"asidebarRow__icon"}),Object(a.jsx)("h2",{className:"asidebarRow__title",children:n})]}):Object(a.jsxs)(w.c,{to:i,className:"asidebarRow",exact:!0,activeClassName:"asidebarRow--selected",onClick:o,style:{color:r},children:[Object(a.jsx)(t,{className:"asidebarRow__icon"}),Object(a.jsx)("h2",{className:"asidebarRow__title",children:n})]})},Se=function(){var e=Object(c.useContext)(B).sidebarToggle,t=Object(c.useContext)(M),n=t.toggleTheme,i=t.theme,s=t.bgColor,r=t.color;return Object(a.jsxs)("div",{className:"asidebar ".concat(e&&"asidebar__active"),style:{background:s},children:[Object(a.jsxs)("div",{className:"asidebar__header",children:[Object(a.jsx)(ce,{themeOption:!0}),Object(a.jsx)("div",{className:"asidebar__themeWrapper",children:"light"===i?Object(a.jsx)(re.a,{onClick:n,style:{fill:r}}):Object(a.jsx)(le.a,{onClick:n,style:{fill:r}})})]}),Ce.map((function(e){return Object(a.jsx)(Ie,{title:e.title,Icon:e.icon,path:e.path},e.title)})),ke.map((function(e){return Object(a.jsx)(Ie,{title:e.title,Icon:e.icon,path:e.path},e.title)}))]})},Te=(n(71),function(e){var t=e.videoData,n=Object(c.useContext)(M).theme,i=t.snippet.thumbnails.default.url,s=t.snippet.channelTitle,r=t.snippet.title,o=t.snippet.publishedAt;return Object(a.jsxs)(w.b,{className:"videoItem",to:function(){if(t.id.videoId){var e=t.id.videoId;return"/video/".concat(e)}var n=t.id;return"/video/".concat(n)},style:{background:"light"===n?"#fff":"#e1e1e1"},children:[Object(a.jsx)("img",{src:i,alt:"",className:"videoItem__thumbnail"}),Object(a.jsxs)("div",{className:"videoItem__info",children:[Object(a.jsx)(X.a,{className:"videoItem__avatar",alt:s}),Object(a.jsxs)("div",{className:"videoItem__text",children:[Object(a.jsx)("h4",{children:r}),Object(a.jsx)("p",{children:s}),Object(a.jsxs)("p",{children:["'2M' ",o]})]})]})]})}),Pe=n(165),De=function(e){var t=e.titlePage,n=e.videosData,i=e.loading,s=(e.column,Object(c.useRef)(null)),r=Object(o.b)(),l=Object(c.useCallback)((function(e){e[0].isIntersecting&&r(function(){var e=Object(S.a)(I.a.mark((function e(t,n){var a,c,i,s,r,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:return a=e.sent,c=a.videos,i=c.termToSearch,s=c.nextPageToken,e.next=8,P.get("/search",{params:{part:"snippet",q:i,maxResults:10,pageToken:s,type:"video"}});case 8:r=e.sent,o=r.data,t({type:h,payload:{data:o}});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}),[r]);Object(c.useEffect)((function(){var e=new IntersectionObserver(l,{root:null,rootMargin:"50px",threshold:1});s.current&&e.observe(s.current)}),[l]);return Object(a.jsxs)("div",{className:"videosContainer ",children:[t?Object(a.jsx)("h2",{className:"videosContainer__title",children:t}):"",Object(a.jsxs)("div",{className:"videosContainer__videos",children:[i||!n?Object(a.jsx)("div",{className:"videosContainer__spinnerWrapper",children:Object(a.jsx)(Pe.a,{})}):n.map((function(e,t){return Object(a.jsx)(Te,{videoData:e},t)})),Object(a.jsx)("div",{ref:s,children:Object(a.jsx)("h2",{children:"Loading..."})})]})]})},Re=function(){var e=Object(o.c)((function(e){return e.videos})),t=e.videos,n=e.loading,i=Object(o.b)();return Object(c.useEffect)((function(){i(D("recommended"))}),[i]),Object(a.jsx)("section",{className:"section container",children:n?Object(a.jsx)(Pe.a,{size:"6rem"}):Object(a.jsx)(De,{titlePage:"Recommended",videosData:t,loading:n})})},Ee=function(){var e=Object(o.c)((function(e){return e.videos})),t=e.loading,n=e.videos,i=Object(o.b)();return Object(c.useEffect)((function(){i(D("trending"))}),[i]),Object(a.jsx)("section",{className:"section container",children:t?Object(a.jsx)(Pe.a,{size:"6rem"}):Object(a.jsx)(De,{titlePage:"Trending",loading:t,videosData:n})})},Le=function(){return Object(a.jsx)("section",{className:"container",children:Object(a.jsx)("h2",{children:"Coming soon..."})})},Ae=function(e){var t=e.match.params.searchTerm,n=Object(o.c)((function(e){return e.videos})),i=n.videos,s=n.loading,r=Object(o.b)();Object(c.useEffect)((function(){r(D(t))}),[r,t]);return Object(a.jsx)("section",{className:"section container",children:s?Object(a.jsx)(Pe.a,{size:"6rem"}):Object(a.jsx)(De,{titlePage:"Videos related with ".concat(t),videosData:i})})},We=(n(141),n(93)),Ue=n.n(We),ze=n(94),Be=n.n(ze),Fe=n(95),Me=n.n(Fe),qe=n(96),Ge=n.n(qe),He=n(97),Ve=n.n(He),Ze=function(e){var t=e.match.params.videoId,n=Object(o.b)();Object(c.useEffect)((function(){var e;n((e=t,function(){var t=Object(S.a)(I.a.mark((function t(n){var a,c,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:b}),t.next=3,P.get("/videos",{params:{part:"snippet",id:e}});case 3:a=t.sent,c=a.data,i=c.items[0].snippet.categoryId,n({type:p,payload:c.items[0]}),n(R(i));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[n,t]);var i=Object(o.c)((function(e){return e.videos})),s=i.videoSelected,r=i.loading,l=i.videos;return Object(a.jsx)("section",{className:"videoPage",children:Object(a.jsxs)("div",{className:"videoPage__videoContent",children:[Object(a.jsxs)("div",{className:"videoPage__firstColumn",children:[Object(a.jsx)("div",{className:"videoPage__videoWrapper",children:Object(a.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(t),title:"video player",className:"videoPage__video"})}),Object(a.jsx)("div",{className:"videoPage__videoDescription",children:function(){if(!r&&s){var e=s.snippet.title;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h4",{className:"videoDescription__title",children:e}),Object(a.jsxs)("div",{className:"videoDescription__description",children:[Object(a.jsx)("p",{children:"97.109 views \u2022 Date: Dic 16, 2020"}),Object(a.jsxs)("div",{className:"videoDescription__actions",children:[Object(a.jsxs)("button",{className:"videoDescription__action",children:[Object(a.jsx)(Ue.a,{}),Object(a.jsx)("p",{children:"4324"})]}),Object(a.jsxs)("button",{className:"videoDescription__action",children:[Object(a.jsx)(Be.a,{}),Object(a.jsx)("p",{children:"48"})]}),Object(a.jsxs)("button",{className:"videoDescription__action",children:[Object(a.jsx)(Me.a,{}),Object(a.jsx)("p",{children:"compartir"})]}),Object(a.jsxs)("button",{className:"videoDescription__action",children:[Object(a.jsx)(Ge.a,{}),Object(a.jsx)("p",{children:"guardar"})]}),Object(a.jsx)("button",{className:"videoDescription__action",children:Object(a.jsx)(Ve.a,{})})]})]})]})}return Object(a.jsx)("p",{children:"loading..."})}()})]}),Object(a.jsx)("div",{className:"videoPage__secondColumn",children:!r&&l?Object(a.jsx)(De,{titlePage:"Related",videosData:l,loading:r,column:!0}):null})]})})},Je=function(){return Object(a.jsx)("section",{className:"container",children:Object(a.jsx)("h2",{children:"Coming soon..."})})},Ke=function(){return Object(a.jsx)("section",{className:"container",children:Object(a.jsx)("h2",{children:"Coming soon..."})})},Xe=function(){return Object(a.jsx)("section",{className:"container",children:Object(a.jsx)("h2",{children:"Coming soon..."})})},$e=function(){return Object(a.jsx)("section",{className:"container",children:Object(a.jsx)("h2",{children:"Coming soon..."})})},Qe=(n(142),n(143),n(100)),Ye=n(166),et=n(168),tt=n(170),nt=n(167),at=function(e){var t=e.handleSubmit,n=Object(o.b)();return Object(a.jsx)(Qe.a,{initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)?e.password||(t.password="Required"):t.email="Invalid email address":t.email="Required",t},onSubmit:function(e,a){var c=a.setSubmitting;n(t(e.email,e.password)),c(!1)},children:function(e){var t=e.values,c=e.errors,i=e.touched,s=e.handleChange,r=e.handleBlur,o=e.handleSubmit,l=e.isSubmitting;return Object(a.jsx)("form",{onSubmit:o,className:"loginForm",children:l?Object(a.jsx)(Pe.a,{size:"5rem"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Ye.a,{className:"fieldset",children:[Object(a.jsx)(et.a,{type:"email",name:"email",onChange:s,onBlur:r,value:t.email,placeholder:"Email..."}),c.email&&i.email&&Object(a.jsx)(tt.a,{error:!0,children:c.email})]}),Object(a.jsxs)(Ye.a,{className:"fieldset",children:[Object(a.jsx)(et.a,{type:"password",name:"password",onChange:s,onBlur:r,value:t.password,placeholder:"Password..."}),c.password&&i.password&&Object(a.jsx)(tt.a,{error:!0,children:c.password})]}),Object(a.jsx)(nt.a,{type:"submit",disabled:l,children:"Enter"}),Object(a.jsx)(nt.a,{color:"secondary",onClick:function(){return n(function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.auth().signInWithPopup(A);case 2:W();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Google"})]})})}})},ct=(n(144),function(e){var t=e.username,n=e.userEmail,c=e.imageURL,i=Object(o.b)();return Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsx)(X.a,{className:"profile__avatar",src:c}),Object(a.jsxs)("h3",{className:"profile__info",children:["Name: ",t]}),Object(a.jsxs)("h3",{className:"profile__info",children:["Email: ",n]}),Object(a.jsx)(nt.a,{color:"secondary",onClick:function(){return i(function(){var e=Object(S.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.auth().signOut();case 2:t({type:O,payload:null});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Sign out"})]})}),it=function(){var e=Object(o.c)((function(e){return e.login})).user;return Object(a.jsx)("section",{className:"container",children:Object(a.jsx)("div",{className:"loginWrapper",children:e?Object(a.jsx)(ct,{username:e.displayName,imageURL:e.photoURL,userEmail:e.email}):Object(a.jsx)(at,{handleSubmit:U})})})};var st=function(){var e=Object(o.b)();Object(c.useEffect)((function(){e(W())}),[e]);var t=Object(o.c)((function(e){return e.login})).loading;return console.log(t),Object(a.jsx)(q,{children:Object(a.jsx)(F,{children:Object(a.jsx)("div",{className:"app",children:Object(a.jsxs)(w.a,{basename:"/youtube-clone-react",children:[Object(a.jsx)(ie,{}),Object(a.jsxs)("div",{className:"app__page",children:[Object(a.jsx)(Se,{}),Object(a.jsxs)(C.c,{children:[Object(a.jsx)(C.a,{path:"/subscriptions",exact:!0,component:Le}),Object(a.jsx)(C.a,{path:"/trending",exact:!0,component:Ee}),Object(a.jsx)(C.a,{path:"/search/:searchTerm",exact:!0,component:Ae}),Object(a.jsx)(C.a,{path:"/video/:videoId",exact:!0,component:Ze}),Object(a.jsx)(C.a,{path:"/library",exact:!0,component:Je}),Object(a.jsx)(C.a,{path:"/history",exact:!0,component:Ke}),Object(a.jsx)(C.a,{path:"/watch_later",exact:!0,component:Xe}),Object(a.jsx)(C.a,{path:"/liked_videos",exact:!0,component:$e}),Object(a.jsx)(C.a,{path:"/login",exact:!0,component:it}),Object(a.jsx)(C.a,{path:"/",exact:!0,component:Re})]})]})]})})})})},rt=Object(l.createStore)(_,Object(y.composeWithDevTools)(Object(l.applyMiddleware)(N.a))),ot=function(){return Object(a.jsx)(o.a,{store:rt,children:Object(a.jsx)(st,{})})};r.a.render(Object(a.jsx)(ot,{}),document.getElementById("root"))},71:function(e,t,n){}},[[145,1,2]]]);
//# sourceMappingURL=main.fe03bc7e.chunk.js.map